<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Распознавание речи</title>
</head>
<body>
    <h1>Распознавание речи</h1>
    <button id="startButton">Начать запись</button>
    <p>Распознанный текст: <span id="output"></span></p>

    <script>
        // Проверяем, поддерживается ли API SpeechRecognition
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        if (!SpeechRecognition) {
            alert("Ваш браузер не поддерживает SpeechRecognition API.");
        } else {
            // Создаем экземпляр SpeechRecognition
            const recognition = new SpeechRecognition();

            // Устанавливаем язык распознавания (например, русский)
            recognition.lang = 'ru-RU';

            // Автоматическое завершение записи после паузы
            recognition.interimResults = false;

            // Обработчик успешного распознавания
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                document.getElementById('output').innerText = transcript; // Отображаем распознанный текст
                console.log('Распознанный текст:', transcript);
            };

            // Обработчик ошибок
            recognition.onerror = (event) => {
                console.error('Ошибка распознавания речи:', event.error);
            };

            // Запуск распознавания по нажатию кнопки
            document.getElementById('startButton').addEventListener('click', () => {
                recognition.start();
                console.log('Начато распознавание речи...');
            });
        }
    </script>
</body>
</html>
